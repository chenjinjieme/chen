<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>キャラ装備</title>
    <link rel="stylesheet" href="/プリコネR/css/キャラ装備.css">
</head>
<body>
<div class="unit" th:data-unit="${unit}">
    <div class="rank" th:each="rank:${rankList}" th:data-rank="${rank.rank}">
        <p th:text="|Rank${rank.rank}|"></p>
        <table>
            <tbody>
            <tr>
                <td class="equipment" th:each="equipment:${rank.equipmentList}" th:data-order="${equipment.order}">
                    <img th:src="|/プリコネR/装備/${equipment.equipment}/icon|">
                </td>
            </tr>
            <tr>
                <td th:each="equipment:${rank.equipmentList}" th:data-order="${equipment.order}">
                    <span th:text="${equipment.equipment}"></span>
                    <button type="button" onclick="copy($(this))">コピー</button>
                    <span></span>
                </td>
            </tr>
            <th:block th:with="set=${rank.equipmentList[0].set+rank.equipmentList[1].set+rank.equipmentList[2].set+rank.equipmentList[3].set+rank.equipmentList[4].set+rank.equipmentList[5].set}">
                <th:block th:unless="${set==6}">
                    <tr>
                        <td th:each="equipment:${rank.equipmentList}" th:switch="${equipment.set}" th:data-order="${equipment.order}">
                            <th:block th:case="0">
                                <input>
                                <button type="button" name="update" onclick="update($(this))">编辑</button>
                            </th:block>
                            <button class="set" th:case="-6" type="button" name="set" onclick="set($(this))">装備</button>
                        </td>
                    </tr>
                    <tr th:if="${set<0}">
                        <td>
                            <button type="button" onclick="setAll($(this))">まともて装備</button>
                        </td>
                    </tr>
                </th:block>
            </th:block>
            </tbody>
        </table>
    </div>
    <div class="rank" th:data-rank="${rankList.size()+1}">
        <button type="button" onclick="addAll($(this))">新增</button>
    </div>
    <button type="button" onclick="count($(this))">count</button>
    <span></span>
</div>
<script src="/プリコネR/js/jquery-3.3.1.min.js"></script>
<script src="/プリコネR/js/キャラ装備.js"></script>
</body>
</html>